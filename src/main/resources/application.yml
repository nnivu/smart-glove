# 服务器配置
server:
  port: 9090
  servlet:
    encoding:
      charset: UTF-8  # 统一编码，避免中文乱码
      force: true     # 强制使用指定编码

# 数据库配置
spring:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    username: root
    password: gh178
    url: jdbc:mysql://localhost:3306/code2025?useUnicode=true&characterEncoding=utf-8&allowMultiQueries=true&useSSL=false&serverTimezone=GMT%2b8&allowPublicKeyRetrieval=true
  # 新增：确保JSON返回格式正常（适配拦截器返回JSON）
  jackson:
    default-property-inclusion: non_null  # 忽略null字段，减少返回数据量
    time-zone: GMT+8                      # 时间时区统一

# 原生MyBatis配置
mybatis:
  mapper-locations: classpath:mapper/*.xml
  type-aliases-package: com.example.entity  # 实体类包路径
  configuration:
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl  # 打印SQL日志（开发环境用）
    map-underscore-to-camel-case: true                     # 下划线转驼峰

# 新增：JWT核心配置（支撑登录拦截逻辑）
jwt:
  # 固定签名秘钥（生产环境建议替换为32位以上随机字符串，比如用这个在线工具生成：https://www.random.org/strings/）
  secret: 8e9f2a7d3c8b9e7f8a9d8b7c6e5f4a3b9876f5e4d3c2b1a09876f5e4d3c2b1a0
  expire-time: 86400  # Token有效期：86400秒 = 1天（可根据需求调整，比如7200=2小时）

# 新增：分页插件配置（适配UserService/AdminService的分页查询）
pagehelper:
  helper-dialect: mysql        # 数据库方言
  reasonable: true             # 页码越界时自动处理（比如页码<1则查第1页）
  support-methods-arguments: true  # 支持通过参数传递分页信息
  params: count=countSql       # 分页参数配置

# Deepseek配置
deepseek:
  api-key: sk-fdd9196852e74707918fcaf2c03e0457
  api-url: https://api.deepseek.com/v1
  model: deepseek-chat